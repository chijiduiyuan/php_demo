<!DOCTYPE html >
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>实现抽奖的旋转效果</title>
 <link rel="stylesheet"  href='cj.css' />

</head>
<body>
<!-- 代码部分begin  -->
<div class="rotary">
	<div class="rotaryArrow" id="rotaryArrow"></div>
	<div class="list">
		<h3>中奖名单</h3>
		<ul>
		
			<li>1569****851</li>
			<li>1515****206</li>
			<li>1550****789</li>
			<li>1370****627</li>
			<li>1828****215</li>
			<li>1589****572</li>
			<li>1583****825</li>
			<li>1396****805</li>
			<li>1332****261</li>
			<li>1884****863</li>
			<li>1384****955</li>
			<li>1897****137</li>
			<li>1342****973</li>
			<li>1558****071</li>
			<li>1554****168</li>
			<li>1562****018</li>
			<li>1805****856</li>
			<li>1354****809</li>
			<li>1383****364</li>
		</ul>
	</div>
	<div class="result" id="result">
		<p id="resultTxt"></p>
		<a href="javascript:" id="resultBtn" title="关闭">关闭</a>
	</div>
</div>
<script src="jquery-3.1.1.min.js"></script>

<script>
     var arr=new Array('谢谢参与','代金卷5元','代金卷1元','代金卷10元','谢谢参与','代金卷20元','代金卷50元','代金卷30元');
	  var avg_deg=360/arr.length;
	  var m=0;
      $(function(){
		      $("#rotaryArrow").click(function(){
	                   aa();
				     });  

		//关闭提示语句 
		   $("#resultBtn").click(function(){
			   $("#result").fadeOut("fast");
			   
			   });			 
					 
		 
		     //转盘完成之后执行这个动作
		    $("#rotaryArrow").on("transitionend",function(){
                           $("#resultTxt").html(price);
						   $("#result").fadeIn("fast");
						   $("#rotaryArrow").bind("click",aa);  //再给它点击的权限 
						   //延时自动执行
						   setTimeout(function() {
                           $("#result").fadeOut('slow');
                           },2000);
				      });

		 });
		 

     //旋转角度
     function aa(){  
	  $("#rotaryArrow").unbind('click');
			 m++;
			 var n=parseInt(Math.random()*arr.length);
			 price=arr[n];
			 var deg=n*avg_deg+m*360*5+"deg";
			 if(m<=2){
			 $("#rotaryArrow").css('transform','rotate('+deg+')');}
			 
			 else{alert("今天不能再抽奖了,请明天再来抽奖吧");}
		    }


</script>
<!-- 代码部分 end -->
</body>
</html>